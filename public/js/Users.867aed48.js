(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Users"],{"0e8a":function(e,t,s){"use strict";var r=s("33d6"),a=s.n(r);a.a},"1bdc":function(e,t,s){},"20fb":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section-users"},[s("b-container",[s("Table",{attrs:{target:"user",data:e.users.data,fields:e.fields,totalRows:e.totalRows,loading:e.users.state.isLoading,error:e.users.state.error,commonButton:!1,deleteButton:!1},on:{editButtonClick:e.beforeEditUser}}),s("b-modal",{attrs:{title:"Edit user",size:"xl","hide-header-close":"hide-header-close","ok-title":"Save","ok-variant":"success","cancel-variant":"danger","ok-disabled":e.users.state.isLoading&&"GET"===e.users.state.method,"cancel-disabled":e.users.state.isLoading&&"GET"===e.users.state.method},on:{ok:e.userEditAction,hidden:e.afterEditUser},model:{value:e.modals.edit,callback:function(t){e.$set(e.modals,"edit",t)},expression:"modals.edit"}},[s("b-row",[s("b-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"5",xl:"5"}},[s("b-row",[s("b-col",{attrs:{cols:"9"}},[s("b-form-group",{attrs:{"label-cols":4,label:"Username:"}},[s("b-form-input",{attrs:{type:"text",readonly:"readonly"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-form-group",{attrs:{"label-cols":4,label:"Email:"}},[s("b-form-input",{attrs:{type:"text",readonly:"readonly"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),s("b-col",{staticClass:"pl-0",attrs:{cols:"3"}},[s("b-btn",{attrs:{variant:"primary",disabled:e.resetPassword},on:{click:function(t){e.resetPassword=!0}}},[s("font-awesome-icon",{attrs:{icon:"key"}})],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-form-group",{attrs:{"label-cols":4,label:"Created:"}},[s("b-form-input",{attrs:{type:"text",readonly:"readonly"},model:{value:e.user.created,callback:function(t){e.$set(e.user,"created",t)},expression:"user.created"}})],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-form-group",{attrs:{"label-cols":4,label:"Last entered:"}},[s("b-form-input",{attrs:{type:"text",readonly:"readonly"},model:{value:e.user.lastEntered,callback:function(t){e.$set(e.user,"lastEntered",t)},expression:"user.lastEntered"}})],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-form-group",{attrs:{"label-cols":4,label:"Role:"}},[s("b-button-group",[s("b-button",{class:{active:"User"===e.user.role},attrs:{variant:"outline-success"},on:{click:function(t){e.user.role="User"}}},[e._v("User")]),s("b-button",{class:{active:"Admin"===e.user.role},attrs:{variant:"outline-success"},on:{click:function(t){e.user.role="Admin"}}},[e._v("Admin")])],1)],1)],1),s("b-col",{attrs:{cols:"9"}},[s("b-form-checkbox",{attrs:{value:!0,"unchecked-value":!e.user.isDisabled},model:{value:e.user.isDisabled,callback:function(t){e.$set(e.user,"isDisabled",t)},expression:"user.isDisabled"}},[e._v(" Disabled ")])],1)],1)],1),s("b-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"7",xl:"7"}},[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("h5",[e._v(" Opened elements ")]),s("b-progress",{staticClass:"mb-3",attrs:{value:e.user.elements.length,max:e.elements.data.length,"show-value":"show-value"}})],1),s("b-col",{staticClass:"mt-2 mt-sm-2 mt-md-2 mt-lg-0 mt-xl-0",attrs:{cols:"12"}},[s("ElementsList",{attrs:{elements:e.user.elements,categories:e.categories.data}})],1)],1)],1)],1)],1)],1)],1)},a=[],l=s("2f62"),n=s("5edc"),o=s("e46a"),i=s("4ffe");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(s,!0).forEach((function(t){d(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={components:{Table:o["a"],ElementsList:i["a"]},mounted(){this.getUsers().then(()=>{this.totalRows=this.users.data.length}),this.getElements(),this.getCategories()},computed:u({},Object(l["c"])({elements:"data/elements",categories:"data/categories",users:"data/users"})),data(){return{user:{_id:"",username:"",email:"",created:"",lastEntered:"",isDisabled:!1,role:"",elements:[]},loading:{userElements:!1},modals:{edit:!1},resetPassword:!1,totalRows:0,fields:[{key:"username",label:"Username",class:"align-middle text-center",sortable:!0},{key:"created",label:"Created",class:"align-middle text-center",sortable:!0},{key:"lastEntered",label:"Last entered",class:"align-middle text-center",sortable:!0},{key:"isDisabled",label:"Disabled",class:"align-middle text-center",sortable:!0},{key:"action",label:"Action",class:"align-middle text-center",sortable:!1}]}},methods:u({},Object(l["b"])({getUsers:"data/getUsers",getElements:"data/getElements",getCategories:"data/getCategories"}),{getUserElements(){this.loading.userElements=!0,Object(n["b"])(this.user._id).then(e=>{this.user.elements=e.data.elements}).finally(()=>{this.loading.userElements=!1})},beforeEditUser(e){this.modals.edit=!0,this.user._id=e.item._id,this.user.username=e.item.username,this.user.email=e.item.email,this.user.created=e.item.created,this.user.lastEntered=e.item.lastEntered,this.user.isDisabled=e.item.isDisabled,this.user.role=e.item.role,this.getUserElements()},userEditAction(){this.putUser(this.user).then(()=>{this.modals.edit=!1}),this.resetPassword},afterEditUser(){this.user._id="",this.user.username="",this.user.email="",this.user.created="",this.user.lastEntered="",this.user.isDisabled=!1,this.user.role=""}})},b=m,f=(s("2d41"),s("2877")),g=Object(f["a"])(b,r,a,!1,null,"0fbd0900",null);t["default"]=g.exports},"2d41":function(e,t,s){"use strict";var r=s("677b"),a=s.n(r);a.a},"33d6":function(e,t,s){},"4ffe":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"elements-list"},[s("b-card",{attrs:{"no-body":"no-body"}},[s("b-tabs",{attrs:{card:"card",pills:"pills",vertical:"vertical",small:"small","nav-wrapper-class":"w-30"}},e._l(e.categories,(function(t){return s("b-tab",{key:t._id,attrs:{title:t.name},on:{click:function(s){e.selectedCategory=t}}},[e._t("default"),e._l(e.selectedCategory.elements,(function(t){return s("b-btn",{key:t._id,staticClass:"element",attrs:{size:"sm",variant:"outline-success"},on:{click:function(s){return e.elementClick(t)}}},[e._v(" "+e._s(t.name)+" ")])}))],2)})),1)],1)],1)},a=[],l={props:{categories:{value:Array,default:[],required:!0},elements:{value:Array,default:[],required:!0}},data(){return{selectedCategory:this.categories[0]}},methods:{elementClick(e){this.$emit("elementClick",e)}}},n=l,o=(s("0e8a"),s("2877")),i=Object(o["a"])(n,r,a,!1,null,"2807c339",null);t["a"]=i.exports},"677b":function(e,t,s){},"8e05":function(e,t,s){"use strict";var r=s("1bdc"),a=s.n(r);a.a},e46a:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"data-table"},[s("b-row",{staticClass:"mb-3"},[s("b-col",{staticClass:"pr-0",attrs:{cols:"6",sm:"6",md:"4",lg:"4",xl:"4"}},[s("b-input-group",[s("b-form-input",{attrs:{placeholder:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),s("b-input-group-append",[s("b-btn",{attrs:{disabled:!e.search},on:{click:function(t){e.search=""}}},[e._v(" Clear ")])],1)],1)],1),s("b-col",{staticClass:"pr-xl-0 pr-lg-0 pr-md-0 mt-2 mt-sm-2 mt-md-0 mt-lg-0 mt-xl-0 text-right text-sm-right text-md-left text-lg-left text-xl-left",attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6",order:"2","order-sm":"2","order-md":"1","order-lg":"1","order-xl":"1"}},[e.commonButton?s("b-btn",{staticClass:"mb-3 mr-2",attrs:{variant:"success"},on:{click:e.commonButtonClick}},[e._v(" Create "+e._s(e.target)+" ")]):e._e(),e._t("default",null,{type:"button"})],2),s("b-col",{attrs:{cols:"4",sm:"4",md:"2",lg:"2",xl:"2",order:"1","order-sm":"1","order-md":"2","order-lg":"2","order-xl":"2",offset:"2","offset-sm":"2","offset-md":"0","offset-lg":"0","offset-xl":"0"}},[s("b-form-select",{attrs:{options:e.pagination.pageOptions},model:{value:e.pagination.perPage,callback:function(t){e.$set(e.pagination,"perPage",t)},expression:"pagination.perPage"}})],1)],1),s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("div",{staticClass:"text-center"},[e.loading?s("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"success"}}):e._e()],1),e.error?s("b-alert",{staticClass:"error",attrs:{show:"show",variant:"danger"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),e.loading?e._e():s("b-table",{attrs:{"show-empty":"show-empty",responsive:"responsive",hover:"hover",flex:"flex",items:e.data,fields:e.fields,"current-page":e.pagination.currentPage,"per-page":e.pagination.perPage,filter:e.search},scopedSlots:e._u([{key:"cell",fn:function(){},proxy:!0},{key:"cell(action)",fn:function(t){return[s("b-button-group",{attrs:{size:"sm"}},[e.editButton?s("b-btn",{attrs:{variant:"warning",size:"sm"},on:{click:function(s){return e.editButtonClick(t)}}},[s("font-awesome-icon",{attrs:{icon:"edit"}})],1):e._e(),e.deleteButton?s("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(s){return e.deleteButtonClick(t)}}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1):e._e()],1)]}}],null,!1,4244103751)}),s("b-pagination",{attrs:{align:"center","total-rows":e.totalRows,"per-page":e.pagination.perPage},model:{value:e.pagination.currentPage,callback:function(t){e.$set(e.pagination,"currentPage",t)},expression:"pagination.currentPage"}})],1)],1)],1)},a=[],l={props:{data:{value:Array,default:[],required:!1},fields:{value:Array,default:[],required:!1},totalRows:{value:Number,default:0,required:!1},loading:{value:Boolean,default:!1,required:!1},error:{value:String,default:"",required:!1},target:{value:String,default:"",required:!0},commonButton:{value:Boolean,default:!0,required:!1},editButton:{value:Boolean,default:!0,required:!1},deleteButton:{value:Boolean,default:!0,required:!1}},data(){return{search:"",pagination:{currentPage:1,perPage:10,pageOptions:[5,10,25,50]}}},methods:{commonButtonClick(){this.$emit("commonButtonClick")},editButtonClick(e){this.$emit("editButtonClick",e)},deleteButtonClick(e){this.$emit("deleteButtonClick",e)}}},n=l,o=(s("8e05"),s("2877")),i=Object(o["a"])(n,r,a,!1,null,"52d67237",null);t["a"]=i.exports}}]);
//# sourceMappingURL=Users.867aed48.js.map