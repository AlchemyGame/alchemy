(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Game"],{"001c":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-row",[n("GameField",[n("b-row",[n("div",{staticClass:"active-elements"},[e._l(e.activeElements,function(e){return n("Element",{key:e.gameId,attrs:{elementData:e}})}),n("ClearGameField")],2),n("div",{staticClass:"opened-elements"},e._l(e.openedElements,function(e){return n("OpenedElement",{key:e._id,attrs:{elementData:e}})}),1)])],1)],1)],1)},a=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=n("8dee"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-draggable-resizable",{attrs:{"class-name-active":"selected-element","class-name":"element",resizable:!1,"disable-user-select":!0,w:100,h:50,x:e.elementData.x,y:e.elementData.y,z:e.elementData.z,parent:".active-elements",onDragStart:e.onDragStart},on:{activated:e.onActivated,dragstop:e.onDragstop,deactivated:e.onDeactivated}},[e._v(e._s(e.elementData.name))])},o=[],u=n("2f62");function l(e,t){if(t.length<2)return null;for(var n=null,r=1e3,a=1e3,c=0;c<t.length;c++){var s=Math.abs(e.x-t[c].x),i=Math.abs(e.y-t[c].y);s<r&&i<a&&e.gameId!==t[c].gameId&&(r=s,a=i,n=t[c])}return e.x+50>=n.x&&e.x-50<=n.x&&e.y+25>=n.y&&e.y-25<=n.y?n:null}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function m(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};p(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):p(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var d={props:{elementData:Object},computed:m({},Object(u["c"])({activeElements:"game/activeElements",selectedElement:"game/selectedElement"})),methods:m({},Object(u["b"])({addActiveElement:"game/addActiveElement",removeActiveElement:"game/removeActiveElement",setSelectedElement:"game/setSelectedElement",setSelectedElementCoordinates:"game/setSelectedElementCoordinates",removeSelectedElement:"game/removeSelectedElement"}),{onActivated:function(){this.setSelectedElement(this.elementData)},onDeactivated:function(){this.removeSelectedElement()},onDragStart:function(){this.setSelectedElement(this.elementData),this.setSelectedElementCoordinates({x:this.elementData.x,y:this.elementData.y,z:101})},onDragstop:function(e,t){if(this.selectedElement){this.setSelectedElementCoordinates({x:e,y:t,z:100});var n=l(this.selectedElement,this.activeElements);n&&(this.removeActiveElement(this.selectedElement.gameId),this.removeActiveElement(n.gameId),this.addActiveElement(n)),this.removeSelectedElement()}}})},f=d,h=(n("da4d"),n("2877")),v=Object(h["a"])(f,i,o,!1,null,"73a67d01",null),g=v.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("vue-draggable-resizable",{attrs:{"class-name":"element","class-name-active":"selected-element",draggable:!0,"disable-user-select":!0,resizable:!1,minWidth:50,maxWidth:100,minHeight:20,maxHeight:50,w:200,h:50,x:e.elementData.x,y:e.elementData.y,z:e.elementData.z,parent:".game-field",onDragStart:e.onDragStart},on:{activated:e.onActivated,dragstop:e.onDragstop}},[e._v(e._s(e.elementData.name))])},O=[];n("7f7f");function E(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function y(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};E(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):E(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var w={props:{elementData:Object},computed:y({},Object(u["c"])({gameFieldSize:"game/gameFieldSize",elementsListFieldSize:"game/elementsListFieldSize",openedElements:"game/openedElements",activeElements:"game/activeElements",selectedElement:"game/selectedElement"})),methods:y({},Object(u["b"])({addActiveElement:"game/addActiveElement",removeActiveElement:"game/removeActiveElement",setSelectedElement:"game/setSelectedElement",setSelectedElementCoordinates:"game/setSelectedElementCoordinates",removeSelectedElement:"game/removeSelectedElement",updateOpenedElementsPositions:"game/updateOpenedElementsPositions"}),{onActivated:function(){this.setSelectedElement(this.elementData)},onDeactivated:function(){this.removeSelectedElement()},onDragStart:function(){this.setSelectedElement(this.elementData),this.setSelectedElementCoordinates({x:this.elementData.x,y:this.elementData.y,z:101})},onDragstop:function(e,t){var n=this;if(this.setSelectedElementCoordinates({x:e,y:t}),e<this.gameFieldSize.x-this.elementsListFieldSize.x&&this.activeElements.length>0){var r=l(this.selectedElement,this.activeElements);r?(this.removeActiveElement(this.selectedElement.gameId),this.removeActiveElement(r.gameId),this.addActiveElement(r)):this.addActiveElement({_id:this.elementData._id,name:this.elementData.name,category:this.elementData.name.category,x:e,y:t,gameId:s["generate"]()})}0===this.activeElements.length&&this.addActiveElement({_id:this.elementData._id,name:this.elementData.name,category:this.elementData.name.category,x:e,y:t,gameId:s["generate"]()}),this.removeSelectedElement(),this.$nextTick(function(){n.updateOpenedElementsPositions()})}})},x=w,j=(n("fed5"),Object(h["a"])(x,b,O,!1,null,"83c539ce",null)),D=j.exports,S=n("054a"),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("font-awesome-icon",{staticClass:"fa-3x clear-game-field-button",attrs:{icon:"trash"},on:{dblclick:e.removeAllActiveElements}})},R=[];function A(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function z(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};A(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):A(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var C={methods:z({},Object(u["b"])({removeAllActiveElements:"game/removeAllActiveElements"}))},k=C,_=(n("7006"),Object(h["a"])(k,P,R,!1,null,null,null)),F=_.exports,I=n("3f27"),G=n("63c6"),M=n("3790");function $(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function V(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};$(n,!0).forEach(function(t){Object(c["a"])(e,t,n[t])})}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):$(n).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))});return e}var L={components:{Element:g,OpenedElement:D,GameField:S["default"],ClearGameField:F},mounted:function(){var e=this,t=document.getElementsByClassName("game-field");this.setGameFieldSize({x:t[0].clientWidth,y:t[0].clientHeight}),window.addEventListener("resize",function(){e.setGameFieldSize({x:t[0].clientWidth,y:t[0].clientHeight}),e.updateOpenedElementsPositions()}),Object(I["b"])().then(function(t){if(200===t.status){for(var n=0;n<t.data.response.length;n++)t.data.response[n].x=null,t.data.response[n].y=null,t.data.response[n].z=100;e.setOpenedElements(t.data.response)}}),Object(G["a"])().then(function(t){200===t.status&&e.setOpenedCategories(t.data.response)}),Object(M["b"])().then(function(t){200===t.status&&e.setOpenedRecipes(t.data.response)})},computed:V({},Object(u["c"])({gameFieldSize:"game/gameFieldSize",openedElements:"game/openedElements",activeElements:"game/activeElements",selectedElement:"game/selectedElement",openedCategories:"game/openedCategories",openedRecipes:"game/openedRecipes"})),methods:V({},Object(u["b"])({setGameFieldSize:"game/setGameFieldSize",setOpenedElements:"game/setOpenedElements",setActiveElements:"game/setActiveElements",setOpenedCategories:"game/setOpenedCategories",updateOpenedElementsPositions:"game/updateOpenedElementsPositions",setOpenedRecipes:"game/setOpenedRecipes",addOpenedRecipe:"game/addOpenedRecipe"}),{generateGameId:function(){for(var e=s["generate"](),t=0;t<this.activeElements;t++)if(e===this.activeElements[t].gameId)return void this.generateGameId();return e}})},H=L,W=(n("6f50"),Object(h["a"])(H,r,a,!1,null,"ef4fe91c",null));t["default"]=W.exports},"054a":function(e,t,n){"use strict";var r=n("2979"),a=n("fd4c"),c=(n("b93c"),n("2877")),s=Object(c["a"])(a["default"],r["a"],r["b"],!1,null,"5adbd3a7",null);t["default"]=s.exports},"069b":function(e,t,n){"use strict";var r=n("41fa"),a=n("3df9"),c=n("dd14"),s=n("9fc2")||0;function i(t){return r.seed(t),e.exports}function o(t){return s=t,e.exports}function u(e){return void 0!==e&&r.characters(e),r.shuffled()}function l(){return a(s)}e.exports=l,e.exports.generate=l,e.exports.seed=i,e.exports.worker=o,e.exports.characters=u,e.exports.isValid=c},"091d":function(e,t,n){"use strict";var r,a="object"===typeof window&&(window.crypto||window.msCrypto);r=a&&a.getRandomValues?function(e){return a.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},"1b48":function(e,t,n){},2979:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-col",{staticClass:"game-field",attrs:{cols:"12"}},[e._t("default")],2)},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},3790:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return m});n("96cf");var r=n("3b8d"),a=n("bc3a"),c=n.n(a);function s(){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"get",url:"/api/recipes"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),i.apply(this,arguments)}function o(e,t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"post",url:"/api/recipe/add",data:{recipe:t,result:n}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),u.apply(this,arguments)}function l(e,t,n){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"put",url:"/api/recipe/update",data:{newRecipe:t,newResult:n,recipeId:r}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),p.apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"delete",url:"/api/recipe/delete",data:{recipeId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),d.apply(this,arguments)}},"3df9":function(e,t,n){"use strict";var r,a,c=n("bd92"),s=(n("41fa"),1459707606518),i=6;function o(e){var t="",n=Math.floor(.001*(Date.now()-s));return n===a?r++:(r=0,a=n),t+=c(i),t+=c(e),r>0&&(t+=c(r)),t+=c(n),t}e.exports=o},"3f27":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return m});n("96cf");var r=n("3b8d"),a=n("bc3a"),c=n.n(a);function s(){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/api/elements");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),i.apply(this,arguments)}function o(e,t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"post",url:"/api/element/add",data:{name:t,category:n}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),u.apply(this,arguments)}function l(e,t,n,r){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r,a){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"put",url:"/api/element/update",data:{elementId:t,name:n,description:r,category:a}});case 3:return s=e.sent,e.abrupt("return",s);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),p.apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"delete",url:"/api/element/delete",data:{elementId:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),d.apply(this,arguments)}},"41fa":function(e,t,n){"use strict";var r,a,c,s=n("7eac"),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function o(){c=!1}function u(e){if(e){if(e!==r){if(e.length!==i.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+i.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,o()}}else r!==i&&(r=i,o())}function l(e){return u(e),r}function p(e){s.seed(e),a!==e&&(o(),a=e)}function m(){r||u(i);var e,t=r.split(""),n=[],a=s.nextValue();while(t.length>0)a=s.nextValue(),e=Math.floor(a*t.length),n.push(t.splice(e,1)[0]);return n.join("")}function d(){return c||(c=m(),c)}function f(e){var t=d();return t[e]}function h(){return r||i}e.exports={get:h,characters:l,seed:p,lookup:f,shuffled:d}},"509d":function(e,t){},"63c6":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});n("96cf");var r=n("3b8d"),a=n("bc3a"),c=n.n(a);function s(){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("/api/categories");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),i.apply(this,arguments)}function o(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c()({method:"post",url:"/api/category/add",data:{name:t}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),u.apply(this,arguments)}},"6f50":function(e,t,n){"use strict";var r=n("c78d"),a=n.n(r);a.a},7006:function(e,t,n){"use strict";var r=n("f8f0"),a=n.n(r);a.a},"7eac":function(e,t,n){"use strict";var r=1;function a(){return r=(9301*r+49297)%233280,r/233280}function c(e){r=e}e.exports={nextValue:a,seed:c}},"7f7f":function(e,t,n){var r=n("86cc").f,a=Function.prototype,c=/^\s*function ([^ (]*)/,s="name";s in a||n("9e1e")&&r(a,s,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(e){return""}}})},"84c9":function(e,t,n){},"8dee":function(e,t,n){"use strict";e.exports=n("069b")},"90d6":function(e,t,n){},"9fc2":function(e,t,n){"use strict";e.exports=0},b93c:function(e,t,n){"use strict";var r=n("1b48"),a=n.n(r);a.a},bd92:function(e,t,n){"use strict";var r=n("41fa"),a=n("091d"),c=n("c903");function s(e){var t,n=0,s="";while(!t)s+=c(a,r.get(),1),t=e<Math.pow(16,n+1),n++;return s}e.exports=s},c78d:function(e,t,n){},c903:function(e,t){e.exports=function(e,t,n){var r=(2<<Math.log(t.length-1)/Math.LN2)-1,a=Math.ceil(1.6*r*n/t.length);n=+n;var c="";while(1)for(var s=e(a),i=0;i<a;i++){var o=s[i]&r;if(t[o]&&(c+=t[o],c.length===n))return c}}},da4d:function(e,t,n){"use strict";var r=n("84c9"),a=n.n(r);a.a},dd14:function(e,t,n){"use strict";var r=n("41fa");function a(e){if(!e||"string"!==typeof e||e.length<6)return!1;var t=new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}e.exports=a},f8f0:function(e,t,n){},fd4c:function(e,t,n){"use strict";var r=n("509d"),a=n.n(r);t["default"]=a.a},fed5:function(e,t,n){"use strict";var r=n("90d6"),a=n.n(r);a.a}}]);
//# sourceMappingURL=Game-legacy.34888983.js.map